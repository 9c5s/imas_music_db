# ===============================================================================
# EditorConfig設定ファイル - 最も厳格かつ統一的なコードフォーマット設定
# 日本語コメント・多言語対応版
# 
# このファイルはshfmt及び他のフォーマッターの統一的な設定を提供します。
# プロジェクト全体で一貫したコードスタイルを維持するための設定です。
# ===============================================================================

# EditorConfigのルートファイルであることを宣言
# 上位ディレクトリの.editorconfigファイルは無視されます
root = true

# ===============================================================================
# 全般設定（全ファイル共通）
# ===============================================================================

[*]
# 文字エンコーディング
charset = utf-8

# 改行コード（Unix/Linux形式）
end_of_line = lf

# ファイル末尾の改行を挿入
insert_final_newline = true

# 行末の空白文字を削除
trim_trailing_whitespace = true

# ===============================================================================
# シェルスクリプト設定（shfmt用の最厳格設定）
# ===============================================================================

[*.{sh,bash}]
# インデントスタイル: スペース（タブではなく）
indent_style = space

# インデント幅: 2スペース（最も読みやすい幅）
indent_size = 2

# シェルの方言: POSIX準拠（最も厳格で互換性が高い）
shell_variant = posix

# バイナリ演算子（&&, ||等）を次の行に配置
binary_next_line = true

# switch case文のインデントを有効化
switch_case_indent = true

# リダイレクト演算子の後にスペースを配置
space_redirects = true

# パディングを保持（既存の空白行を維持）
keep_padding = true

# 関数の開始波括弧を次の行に配置
function_next_line = true

# 行の最大長（厳格な制限）
max_line_length = 80

# ===============================================================================
# Python設定（Ruffとの整合性を保つ）
# ===============================================================================

[*.{py,pyi}]
indent_style = space
indent_size = 4
max_line_length = 88

# ===============================================================================
# YAML設定（yamllintとの整合性を保つ）
# ===============================================================================

[*.{yml,yaml}]
indent_style = space
indent_size = 2
max_line_length = 80

# ===============================================================================
# JSON設定
# ===============================================================================

[*.json]
indent_style = space
indent_size = 2

# ===============================================================================
# Markdown設定
# ===============================================================================

[*.md]
indent_style = space
indent_size = 2
# Markdownでは行末の空白が意味を持つ場合があるため無効化
trim_trailing_whitespace = false

# ===============================================================================
# TOML設定（設定ファイル）
# ===============================================================================

[*.toml]
indent_style = space
indent_size = 2

# ===============================================================================
# 除外設定
# ===============================================================================

# サードパーティディレクトリは無視
[third_party/**]
ignore = true

# 自動生成ファイルは無視
[**/migrations/**]
ignore = true

# ビルド出力ディレクトリは無視
[{build,dist,*.egg-info}/**]
ignore = true

# ===============================================================================
# 設定の説明
# ===============================================================================

# この設定により以下の厳格なフォーマットが適用されます:
#
# シェルスクリプト（shfmt）:
# - POSIX準拠による最高の互換性
# - 2スペースインデントによる読みやすさ
# - 一貫した波括弧とバイナリ演算子の配置
# - 80文字制限による横スクロール回避
#
# Python（Ruff）:
# - PEP 8準拠の4スペースインデント
# - 88文字行長制限（Blackと同じ）
#
# YAML（yamllint）:
# - 2スペースインデント
# - 80文字制限による厳格な行長管理
#
# この統一設定により、プロジェクト全体で一貫性のある
# 高品質なコードフォーマットが実現されます。