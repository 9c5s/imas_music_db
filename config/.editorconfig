# ===============================================================================
# EditorConfig設定ファイル - shfmt用シェルスクリプトフォーマット設定
# 
# このファイルはshfmtのための設定を提供します。
# 他の言語は各専門ツールで管理されます：
# - Python: Ruff (config/ruff.toml)
# - YAML: yamlfix (config/yamlfix.toml)
# ===============================================================================

# EditorConfigのルートファイルであることを宣言
# 上位ディレクトリの.editorconfigファイルは無視されます
root = true

# ===============================================================================
# 全般設定（全ファイル共通の基本設定）
# ===============================================================================

[*]
# 文字エンコーディング
charset = utf-8

# 改行コード（Unix/Linux形式）
end_of_line = lf

# ファイル末尾の改行を挿入
insert_final_newline = true

# 行末の空白文字を削除
trim_trailing_whitespace = true

# ===============================================================================
# シェルスクリプト設定（shfmt用の最厳格設定）
# ===============================================================================

[*.{sh,bash}]
# インデントスタイル: スペース（タブではなく）
indent_style = space

# インデント幅: 2スペース（最も読みやすい幅）
indent_size = 2

# シェルの方言: POSIX準拠（最も厳格で互換性が高い）
shell_variant = posix

# バイナリ演算子（&&, ||等）を次の行に配置
binary_next_line = true

# switch case文のインデントを有効化
switch_case_indent = true

# リダイレクト演算子の後にスペースを配置
space_redirects = true

# パディングを保持（既存の空白行を維持）
keep_padding = true

# 関数の開始波括弧を次の行に配置
function_next_line = true

# 行の最大長（厳格な制限）
max_line_length = 80

# ===============================================================================
# 除外設定
# ===============================================================================

# サードパーティディレクトリは無視
[third_party/**]
ignore = true

# 自動生成ファイルは無視
[**/migrations/**]
ignore = true

# ビルド出力ディレクトリは無視
[{build,dist,*.egg-info}/**]
ignore = true

# ===============================================================================
# 設定の説明
# ===============================================================================

# この設定により以下の厳格なシェルスクリプトフォーマットが適用されます:
#
# - POSIX準拠による最高の互換性
# - 2スペースインデントによる読みやすさ
# - 一貫した波括弧とバイナリ演算子の配置
# - 80文字制限による横スクロール回避
#
# 他の言語のフォーマットは各専門ツールが管理:
# - Python: Ruff (config/ruff.toml)
# - YAML: yamlfix (config/yamlfix.toml)
# - JSON: Prettier (GitHub Actions内)